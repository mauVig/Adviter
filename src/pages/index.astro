---
import Welcome from '@/components/Welcome.tsx';
import Layout from '@/layouts/Layout.astro';
import Navbar from '@/components/Navbar.tsx';
import ChangeBack from '@/components/ChangeBack';
import Potencial from '@/components/Potencial.astro';
import About from '@/components/About.astro';
import SlideMarks2 from '@/components/SlideMarks2';
import Careers from '@/components/Careers.astro';
import Footer from '@/components/Footer';
import SlideMarksAll from '@/components/SlideMarksAll';
import { adIcons } from '@/data/icons';

const loaderStyles = `
  .loader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(31, 31, 31, 1);
    z-index: 9999;
    transition: opacity .5s ease-out, visibility .5s ease-out;
  }

  .loader.hidden {
    opacity: 0;
    visibility: hidden;
  }
`;
---

<Layout title='Adviters'>
  <div id="loader" class="loader"></div>

  <Navbar client:load currentIcon={adIcons[0]} />
  <Welcome client:only />
  <ChangeBack client:only />
  <SlideMarksAll client:only />
  <Potencial />
  <About />
  <SlideMarks2 client:only />
  <Careers />
  <Footer />
</Layout>

<style set:html={loaderStyles}></style>

<script>
  window.hideLoader = function() {
    const loader = document.getElementById('loader');
    if (loader) {
      loader.classList.add('hidden');
    }
  };
</script>